<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Brain Food ‚Äì HEAD FACE</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>

<body class="bg-gradient-to-br from-blue-100 to-blue-300 min-h-screen">

  <!-- ¬≠¬≠‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ  Header  ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ -->
  <header class="bg-white shadow-md py-4 px-6 flex justify-between items-center">
    <div class="flex items-center gap-2">
      <a href="home.html" class="text-xl font-bold text-blue-700">HEAD FACE</a>
    </div>
    <nav class="space-x-2">
      <!-- ‡πÉ‡∏™‡πà‡∏õ‡∏∏‡πà‡∏°‡∏´‡∏£‡∏∑‡∏≠‡πÄ‡∏°‡∏ô‡∏π‡∏≠‡∏∑‡πà‡∏ô ‡πÜ ‡πÑ‡∏î‡πâ -->
      <a href="home.html"  class="text-blue-600 hover:underline">‡∏´‡∏ô‡πâ‡∏≤‡∏´‡∏•‡∏±‡∏Å</a>
      <a href="brain.html" class="font-semibold px-4 py-1 rounded-xl bg-indigo-600 text-white">Brain Food</a>
    </nav>
  </header>

  <!-- ¬≠¬≠‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ  Container  ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ -->
  <main class="max-w-4xl mx-auto mt-8 p-4">

    <!-- Dashboard -->
    <section id="dashboard" class="bg-white rounded-xl p-4 shadow mb-6 flex flex-col sm:flex-row sm:items-center sm:justify-around gap-2">
      <p class="text-blue-700 font-semibold">üìò ‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏£‡∏π‡πâ‡πÅ‡∏•‡πâ‡∏ß : <span id="lesson-count">0</span> ‡∏ö‡∏ó</p>
      <p class="text-purple-700 font-semibold">üß† ‡∏ó‡∏≥‡∏Ñ‡∏ß‡∏¥‡∏ã‡πÅ‡∏•‡πâ‡∏ß : <span id="quiz-count">0</span> ‡∏Ç‡πâ‡∏≠</p>
    </section>

    <!-- ‡πÄ‡∏°‡∏ô‡∏π‡∏´‡∏•‡∏±‡∏Å -->
    <section class="grid grid-cols-1 md:grid-cols-3 gap-4">

      <!-- Snack Set -->
      <div class="bg-white shadow-lg p-6 rounded-xl border-l-4 border-yellow-400 flex flex-col">
        <h2 class="text-xl font-bold text-yellow-600 mb-1">ü•™ Snack Set</h2>
        <p class="text-gray-600 mb-4 flex-grow">‡∏™‡∏£‡∏∏‡∏õ‡∏ö‡∏ó‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏Å‡∏£‡∏∞‡∏ä‡∏±‡∏ö + ‡∏Ñ‡∏ß‡∏¥‡∏ã 5 ‡∏Ç‡πâ‡∏≠</p>
        <a href="snack.html"
           class="inline-block bg-yellow-500 hover:bg-yellow-600 text-white px-4 py-2 rounded text-center">
          ‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏•‡∏¢
        </a>
      </div>

      <!-- Full Meal (‡πÄ‡∏â‡∏û‡∏≤‡∏∞ MAX) -->
      <div class="bg-white shadow-lg p-6 rounded-xl border-l-4 border-red-400 flex flex-col">
        <h2 class="text-xl font-bold text-red-600 mb-1">üçõ Full Meal</h2>
        <p class="text-gray-600 mb-4 flex-grow">‡∏ö‡∏ó‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏à‡∏±‡∏î‡πÄ‡∏ï‡πá‡∏° + ‡∏Ñ‡∏ß‡∏¥‡∏ã 15 ‡∏Ç‡πâ‡∏≠ (‡πÄ‡∏â‡∏û‡∏≤‡∏∞ MAX)</p>
        <button onclick="checkMAXAccess('fullmeal.html')"
                class="bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded">
          ‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏•‡∏¢
        </button>
      </div>

      <!-- Salad Set -->
      <div class="bg-white shadow-lg p-6 rounded-xl border-l-4 border-green-400 flex flex-col">
        <h2 class="text-xl font-bold text-green-600 mb-1">ü•ó Salad Set</h2>
        <p class="text-gray-600 mb-4 flex-grow">‡∏£‡∏ß‡∏°‡∏ó‡∏∏‡∏Å‡∏ö‡∏ó ‚Äì ‡∏Ñ‡∏ß‡∏¥‡∏ã 20 ‡∏Ç‡πâ‡∏≠</p>
        <a href="salad.html"
           class="inline-block bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded text-center">
          ‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏•‡∏¢
        </a>
      </div>

    </section>
  </main>

  <!-- ¬≠¬≠‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ  Modal (‡πÄ‡∏â‡∏û‡∏≤‡∏∞ MAX)  ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ -->
  <div id="upgrade-modal"
       class="fixed inset-0 bg-black/40 flex items-center justify-center z-50 hidden">
    <div class="bg-white rounded-xl shadow-2xl max-w-sm w-full p-6 text-center"
         onclick="event.stopPropagation()">
      <h2 class="text-xl font-bold text-blue-800 mb-4">‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ MAX</h2>
      <p class="text-gray-600 mb-6">‡∏ü‡∏µ‡πÄ‡∏à‡∏≠‡∏£‡πå Full Meal ‡πÉ‡∏ä‡πâ‡πÑ‡∏î‡πâ‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏ú‡∏π‡πâ‡∏™‡∏°‡∏±‡∏Ñ‡∏£ MAX ‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô</p>
      <a href="setting.html"
         class="block w-full bg-indigo-600 hover:bg-indigo-700 text-white font-semibold py-2 rounded-xl">
        ‡∏î‡∏π‡∏ß‡∏¥‡∏ò‡∏µ‡∏≠‡∏±‡∏õ‡πÄ‡∏Å‡∏£‡∏î
      </a>
      <button id="close-upgrade"
              class="w-full text-sm text-gray-500 hover:text-gray-700 mt-4">
        ‡∏õ‡∏¥‡∏î
      </button>
    </div>
  </div>

  <!-- ¬≠¬≠‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ  Script  ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ -->
  <script>
    // ‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• user ‡∏à‡∏≤‡∏Å LocalStorage
    const user = JSON.parse(localStorage.getItem("user") || "{}");

    /* ===== Dashboard ===== */
    (() => {
      // ‡∏ñ‡πâ‡∏≤‡πÉ‡∏ô LocalStorage ‡∏°‡∏µ‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥‡πÄ‡∏Å‡πá‡∏ö‡πÑ‡∏ß‡πâ user.brainStats = "‡∏ö‡∏ó‡πÄ‡∏£‡∏µ‡∏¢‡∏ô ‡∏Ñ‡∏ß‡∏¥‡∏ã"
      const stats = (user.brainStats || "0 0").split(" ");
      document.getElementById("lesson-count").textContent = stats[0] || "0";
      document.getElementById("quiz-count").textContent   = stats[1] || "0";
    })();

    /* ===== ‡∏ï‡∏£‡∏ß‡∏à MAX ===== */
    function checkMAXAccess(link) {
      if (!user.lineId) {
        // ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà MAX
        document.getElementById("upgrade-modal").classList.remove("hidden");
        return;
      }
      // ‡πÄ‡∏õ‡πá‡∏ô MAX ‚Üí ‡πÑ‡∏õ‡∏´‡∏ô‡πâ‡∏≤ full meal
      window.location.href = link;
    }

    // ‡∏õ‡∏¥‡∏î‡πÇ‡∏°‡∏î‡∏±‡∏•
    document.getElementById("upgrade-modal")
            .addEventListener("click", () =>
              document.getElementById("upgrade-modal").classList.add("hidden"));
    document.getElementById("close-upgrade")
            .addEventListener("click", () =>
              document.getElementById("upgrade-modal").classList.add("hidden"));
  </script>
</body>
</html>
